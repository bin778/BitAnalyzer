#:import OrderBookWidget ui.order_book_widget.OrderBookWidget
#:import App kivy.app.App

<PriceTrackerLayout>:
    orientation: 'vertical'
    padding: 10
    spacing: 10

    Button:
        text: "< Back to Search"
        size_hint_y: None
        height: '40dp'
        background_color: (0.3, 0.3, 0.3, 1)
        on_release: App.get_running_app().switch_to_explorer()

    BoxLayout:
        orientation: 'horizontal'
        spacing: 10
        size_hint_y: 0.85
        
        OrderBookWidget:
            id: slot_0
        OrderBookWidget:
            id: slot_1
        OrderBookWidget:
            id: slot_2

    BoxLayout:
        orientation: 'vertical'
        size_hint_y: 0.15
        padding: (0, 5, 0, 5)
        spacing: 2
        
        Label:
            id: analysis_label
            text: "Kimchi Premium: Calculating..."
            font_size: '18sp'
            halign: 'center'
            valign: 'middle'
            color: (0.8, 0.8, 0.8, 1)
            size_hint_y: None
            height: self.texture_size[1] + dp(5)

        Label:
            id: timestamp_label
            text: "Last Updated: --:--:--"
            font_size: '12sp'
            halign: 'center'
            valign: 'middle'
            color: (0.7, 0.7, 0.7, 1)
            size_hint_y: None
            height: self.texture_size[1]